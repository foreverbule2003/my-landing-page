<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>財務數據分析儀表板</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } = Recharts;

        const FinancialCharts = () => {
            const [activeChart, setActiveChart] = useState('quarterly');

            // 季度數據
            const quarterlyData = [
                { period: '2023 Q1', 營業收入: 35136, 本期淨利: -1966, 綜合損益總額: -1966 },
                { period: '2023 Q2', 營業收入: 55696, 本期淨利: 4365, 綜合損益總額: 4365 },
                { period: '2023 Q3', 營業收入: 58338, 本期淨利: 4703, 綜合損益總額: 4703 },
                { period: '2023 Q4', 營業收入: 57040, 本期淨利: 5896, 綜合損益總額: 5896 },
                { period: '2024 Q1', 營業收入: 64666, 本期淨利: 5824, 綜合損益總額: 5824 },
                { period: '2024 Q2', 營業收入: 76777, 本期淨利: 8335, 綜合損益總額: 8335 },
                { period: '2024 Q3', 營業收入: 89187, 本期淨利: 10639, 綜合損益總額: 10639 },
                { period: '2024 Q4', 營業收入: 75005, 本期淨利: 3913, 綜合損益總額: 3913 },
                { period: '2025 Q1', 營業收入: 84550, 本期淨利: 13780, 綜合損益總額: 13780 },
                { period: '2025 Q2', 營業收入: 82471, 本期淨利: 11908, 綜合損益總額: 11908 }
            ];

            // 年度數據
            const yearlyData = [
                { period: '2023年', 營業收入: 206210, 本期淨利: 12998, 綜合損益總額: 12998 },
                { period: '2024年', 營業收入: 307955, 本期淨利: 28711, 綜合損益總額: 28711 },
                { period: '2025年', 營業收入: 167021, 本期淨利: 25688, 綜合損益總額: 25688 }
            ];

            // 半年度數據
            const halfYearData = [
                { period: '2023 H1', 營業收入: 90832, 本期淨利: 2399, 綜合損益總額: 2399 },
                { period: '2023 H2', 營業收入: 115378, 本期淨利: 10599, 綜合損益總額: 10599 },
                { period: '2024 H1', 營業收入: 141443, 本期淨利: 14159, 綜合損益總額: 14159 },
                { period: '2024 H2', 營業收入: 166512, 本期淨利: 14552, 綜合損益總額: 14552 },
                { period: '2025 H1', 營業收入: 167021, 本期淨利: 25688, 綜合損益總額: 25688 }
            ];

            const formatNumber = (value) => {
                if (value === 0) return '0';
                return `${(value / 1000).toFixed(1)}K`;
            };

            const CustomTooltip = ({ active, payload, label }) => {
                if (active && payload && payload.length) {
                    return React.createElement('div', {
                        className: "bg-white p-3 border border-gray-300 rounded-lg shadow-lg"
                    }, [
                        React.createElement('p', {
                            key: 'label',
                            className: "font-semibold text-gray-800"
                        }, `期間: ${label}`),
                        ...payload.map((entry, index) =>
                            React.createElement('p', {
                                key: index,
                                style: { color: entry.color },
                                className: "text-sm"
                            }, `${entry.dataKey}: ${entry.value?.toLocaleString() || 0}`)
                        )
                    ]);
                }
                return null;
            };

            const renderChart = () => {
                let data;
                switch (activeChart) {
                    case 'yearly':
                        data = yearlyData;
                        break;
                    case 'halfyearly':
                        data = halfYearData;
                        break;
                    default:
                        data = quarterlyData;
                }

                return React.createElement('div', { className: