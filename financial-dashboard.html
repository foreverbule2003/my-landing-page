<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>財務數據分析儀表板</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        // This line requires a global 'Recharts' object to be present
        const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } = Recharts;

        const FinancialCharts = () => {
            const [activeChart, setActiveChart] = useState('quarterly');

            // 季度數據
            const quarterlyData = [
                { period: '2023 Q1', 營業收入: 35136, 本期淨利: -1966, 綜合損益總額: -1966 },
                { period: '2023 Q2', 營業收入: 55696, 本期淨利: 4365, 綜合損益總額: 4365 },
                { period: '2023 Q3', 營業收入: 58338, 本期淨利: 4703, 綜合損益總額: 4703 },
                { period: '2023 Q4', 營業收入: 57040, 本期淨利: 5896, 綜合損益總額: 5896 },
                { period: '2024 Q1', 營業收入: 64666, 本期淨利: 5824, 綜合損益總額: 5824 },
                { period: '2024 Q2', 營業收入: 76777, 本期淨利: 8335, 綜合損益總額: 8335 },
                { period: '2024 Q3', 營業收入: 89187, 本期淨利: 10639, 綜合損益總額: 10639 },
                { period: '2024 Q4', 營業收入: 75005, 本期淨利: 3913, 綜合損益總額: 3913 },
                { period: '2025 Q1', 營業收入: 84550, 本期淨利: 13780, 綜合損益總額: 13780 },
                { period: '2025 Q2', 營業收入: 82471, 本期淨利: 11908, 綜合損益總額: 11908 }
            ];

            // 年度數據
            const yearlyData = [
                { period: '2023年', 營業收入: 206210, 本期淨利: 12998, 綜合損益總額: 12998 },
                { period: '2024年', 營業收入: 307955, 本期淨利: 28711, 綜合損益總額: 28711 },
                { period: '2025年', 營業收入: 167021, 本期淨利: 25688, 綜合損益總額: 25688 }
            ];

            // 半年度數據
            const halfYearData = [
                { period: '2023 H1', 營業收入: 90832, 本期淨利: 2399, 綜合損益總額: 2399 },
                { period: '2023 H2', 營業收入: 115378, 本期淨利: 10599, 綜合損益總額: 10599 },
                { period: '2024 H1', 營業收入: 141443, 本期淨利: 14159, 綜合損益總額: 14159 },
                { period: '2024 H2', 營業收入: 166512, 本期淨利: 14552, 綜合損益總額: 14552 },
                { period: '2025 H1', 營業收入: 167021, 本期淨利: 25688, 綜合損益總額: 25688 }
            ];

            const formatNumber = (value) => {
                if (value === 0) return '0';
                return `${(value / 1000).toFixed(1)}K`;
            };

            const CustomTooltip = ({ active, payload, label }) => {
                if (active && payload && payload.length) {
                    return React.createElement('div', {
                        className: "bg-white p-3 border border-gray-300 rounded-lg shadow-lg"
                    }, [
                        React.createElement('p', {
                            key: 'label',
                            className: "font-semibold text-gray-800"
                        }, `期間: ${label}`),
                        ...payload.map((entry, index) =>
                            React.createElement('p', {
                                key: index,
                                style: { color: entry.color },
                                className: "text-sm"
                            }, `${entry.dataKey}: ${entry.value?.toLocaleString() || 0}`)
                        )
                    ]);
                }
                return null;
            };

            const renderChart = () => {
                let data;
                switch (activeChart) {
                    case 'yearly':
                        data = yearlyData;
                        break;
                    case 'halfyearly':
                        data = halfYearData;
                        break;
                    default:
                        data = quarterlyData;
                }

                return React.createElement('div', { className: "space-y-8" }, [
                    // 營業收入圖表
                    React.createElement('div', { key: 'revenue-chart', className: "bg-white p-6 rounded-lg shadow-lg" }, [
                        React.createElement('h3', { key: 'title', className: "text-lg font-bold mb-4 text-gray-800" }, "營業收入趨勢"),
                        React.createElement(ResponsiveContainer, { key: 'chart', width: "100%", height: 300 },
                            React.createElement(LineChart, { data: data },
                                React.createElement(CartesianGrid, { strokeDasharray: "3 3", stroke: "#e0e0e0" }),
                                React.createElement(XAxis, { 
                                    dataKey: "period", 
                                    tick: { fontSize: 12 },
                                    angle: -45,
                                    textAnchor: "end",
                                    height: 80
                                }),
                                React.createElement(YAxis, { 
                                    tickFormatter: formatNumber,
                                    tick: { fontSize: 12 }
                                }),
                                React.createElement(Tooltip, { content: React.createElement(CustomTooltip) }),
                                React.createElement(Legend),
                                React.createElement(Line, { 
                                    type: "monotone", 
                                    dataKey: "營業收入", 
                                    stroke: "#2563eb", 
                                    strokeWidth: 3,
                                    dot: { r: 6, fill: '#2563eb' },
                                    connectNulls: false
                                })
                            )
                        )
                    ]),

                    // 獲利能力圖表
                    React.createElement('div', { key: 'profit-chart', className: "bg-white p-6 rounded-lg shadow-lg" }, [
                        React.createElement('h3', { key: 'title', className: "text-lg font-bold mb-4 text-gray-800" }, "獲利能力比較"),
                        React.createElement(ResponsiveContainer, { key: 'chart', width: "100%", height: 400 },
                            React.createElement(BarChart, { data: data, margin: { top: 20, right: 30, left: 20, bottom: 80 } },
                                React.createElement(CartesianGrid, { strokeDasharray: "3 3", stroke: "#e0e0e0" }),
                                React.createElement(XAxis, { 
                                    dataKey: "period", 
                                    tick: { fontSize: 12 },
                                    angle: -45,
                                    textAnchor: "end",
                                    height: 80
                                }),
                                React.createElement(YAxis, { 
                                    tickFormatter: formatNumber,
                                    tick: { fontSize: 12 }
                                }),
                                React.createElement(Tooltip, { content: React.createElement(CustomTooltip) }),
                                React.createElement(Legend),
                                React.createElement(Bar, { dataKey: "本期淨利", fill: "#10b981", name: "本期淨利" }),
                                React.createElement(Bar, { dataKey: "綜合損益總額", fill: "#f59e0b", name: "綜合損益總額" })
                            )
                        )
                    ]),

                    // 綜合趨勢圖表
                    React.createElement('div', { key: 'combined-chart', className: "bg-white p-6 rounded-lg shadow-lg" }, [
                        React.createElement('h3', { key: 'title', className: "text-lg font-bold mb-4 text-gray-800" }, "營收與獲利綜合趨勢"),
                        React.createElement(ResponsiveContainer, { key: 'chart', width: "100%", height: 400 },
                            React.createElement(LineChart, { data: data },
                                React.createElement(CartesianGrid, { strokeDasharray: "3 3", stroke: "#e0e0e0" }),
                                React.createElement(XAxis, { 
                                    dataKey: "period", 
                                    tick: { fontSize: 12 },
                                    angle: -45,
                                    textAnchor: "end",
                                    height: 80
                                }),
                                React.createElement(YAxis, { 
                                    yAxisId: "left",
                                    tickFormatter: formatNumber,
                                    tick: { fontSize: 12 }
                                }),
                                React.createElement(YAxis, { 
                                    yAxisId: "right", 
                                    orientation: "right",
                                    tickFormatter: formatNumber,
                                    tick: { fontSize: 12 }
                                }),
                                React.createElement(Tooltip, { content: React.createElement(CustomTooltip) }),
                                React.createElement(Legend),
                                React.createElement(Line, { 
                                    yAxisId: "left",
                                    type: "monotone", 
                                    dataKey: "營業收入", 
                                    stroke: "#2563eb", 
                                    strokeWidth: 3,
                                    dot: { r: 4 },
                                    connectNulls: false
                                }),
                                React.createElement(Line, { 
                                    yAxisId: "right",
                                    type: "monotone", 
                                    dataKey: "本期淨利", 
                                    stroke: "#10b981", 
                                    strokeWidth: 3,
                                    dot: { r: 4 },
                                    connectNulls: false
                                })
                            )
                        )
                    ])
                ]);
            };

            return React.createElement('div', { className: "p-6 bg-gray-50 min-h-screen" },
                React.createElement('div', { className: "max-w-7xl mx-auto" }, [
                    React.createElement('h1', { key: 'title', className: "text-3xl font-bold text-center mb-8 text-gray-800" }, "財務表現分析儀表板"),
                    
                    React.createElement('div', { key: 'buttons', className: "flex justify-center mb-8" },
                        React.createElement('div', { className: "bg-white rounded-lg p-1 shadow-md" }, [
                            React.createElement('button', {
                                key: 'quarterly',
                                onClick: () => setActiveChart('quarterly'),
                                className: `px-6 py-2 rounded-md font-medium transition-colors ${
                                    activeChart === 'quarterly' 
                                        ? 'bg-blue-500 text-white shadow-md' 
                                        : 'text-gray-600 hover:text-blue-500'
                                }`
                            }, "季度數據"),
                            React.createElement('button', {
                                key: 'halfyearly',
                                onClick: () => setActiveChart('halfyearly'),
                                className: `px-6 py-2 rounded-md font-medium transition-colors ${
                                    activeChart === 'halfyearly' 
                                        ? 'bg-blue-500 text-white shadow-md' 
                                        : 'text-gray-600 hover:text-blue-500'
                                }`
                            }, "半年度數據"),
                            React.createElement('button', {
                                key: 'yearly',
                                onClick: () => setActiveChart('yearly'),
                                className: `px-6 py-2 rounded-md font-medium transition-colors ${
                                    activeChart === 'yearly' 
                                        ? 'bg-blue-500 text-white shadow-md' 
                                        : 'text-gray-600 hover:text-blue-500'
                                }`
                            }, "年度數據")
                        ])
                    ),

                    React.createElement('div', { key: 'metrics', className: "grid grid-cols-1 md:grid-cols-3 gap-6 mb-8" }, [
                        React.createElement('div', { key: 'revenue', className: "bg-white p-6 rounded-lg shadow-lg border-l-4 border-blue-500" }, [
                            React.createElement('h3', { key: 'title', className: "text-sm font-medium text-gray-500 mb-2" }, "2025年營業收入 (至Q2)"),
                            React.createElement('p', { key: 'value', className: "text-2xl font-bold text-blue-600" }, "167,021"),
                            React.createElement('p', { key: 'growth', className: "text-sm text-gray-600 mt-1" }, "較2024年同期增長18.1%")
                        ]),
                        React.createElement('div', { key: 'profit', className: "bg-white p-6 rounded-lg shadow-lg border-l-4 border-green-500" }, [
                            React.createElement('h3', { key: 'title', className: "text-sm font-medium text-gray-500 mb-2" }, "2025年本期淨利 (至Q2)"),
                            React.createElement('p', { key: 'value', className: "text-2xl font-bold text-green-600" }, "25,688"),
                            React.createElement('p', { key: 'growth', className: "text-sm text-gray-600 mt-1" }, "較2024年同期增長81.4%")
                        ]),
                        React.createElement('div', { key: 'margin', className: "bg-white p-6 rounded-lg shadow-lg border-l-4 border-amber-500" }, [
                            React.createElement('h3', { key: 'title', className: "text-sm font-medium text-gray-500 mb-2" }, "獲利率 (2025年至Q2)"),
                            React.createElement('p', { key: 'value', className: "text-2xl font-bold text-amber-600" }, "15.4%"),
                            React.createElement('p', { key: 'growth', className: "text-sm text-gray-600 mt-1" }, "較2024年同期提升5.4個百分點")
                        ])
                    ]),

                    React.createElement('div', { key: 'charts' }, renderChart()),

                    React.createElement('div', { key: 'summary', className: "mt-8 bg-white p-6 rounded-lg shadow-lg" }, [
                        React.createElement('h3', { key: 'title', className: "text-lg font-bold mb-4 text-gray-800" }, "數據分析摘要"),
                        React.createElement('div', { key: 'content', className: "grid grid-cols-1 md:grid-cols-2 gap-6" }, [
                            React.createElement('div', { key: 'revenue-analysis' }, [
                                React.createElement('h4', { key: 'title', className: "font-semibold text-gray-700 mb-2" }, "營業收入表現"),
                                React.createElement('ul', { key: 'list', className: "text-sm text-gray-600 space-y-1" }, [
                                    React.createElement('li', { key: '1' }, "• 2024年營業收入較2023年增長49.3%"),
                                    React.createElement('li', { key: '2' }, "• 2025年前兩季已達167,021，表現強勁"),
                                    React.createElement('li', { key: '3' }, "• 季度營收在70,000-90,000區間穩定成長")
                                ])
                            ]),
                            React.createElement('div', { key: 'profit-analysis' }, [
                                React.createElement('h4', { key: 'title', className: "font-semibold text-gray-700 mb-2" }, "獲利能力分析"),
                                React.createElement('ul', { key: 'list', className: "text-sm text-gray-600 space-y-1" }, [
                                    React.createElement('li', { key: '1' }, "• 2024年本期淨利較2023年增長120.9%"),
                                    React.createElement('li', { key: '2' }, "• 2025年獲利率顯著提升至15.4%"),
                                    React.createElement('li', { key: '3' }, "• 綜合損益總額與本期淨利保持一致")
                                ])
                            ])
                        ])
                    ])
                ])
            );
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(React.createElement(FinancialCharts));

    </script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
</html>